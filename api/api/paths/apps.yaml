/apps:
  post:
    tags: [app]
    description: Create a new app
    x-oai-middleware:
      - file: apps
        handler: create
    parameters:
      - name: app
        in: body
        description: The app to create.
        required: true
        schema:
          $ref: '#/definitions/App'
    responses:
      201:
        description: The app that was created.
        schema:
          $ref: '#/definitions/App'
      default:
        $ref: '#/responses/default'
  get:
    tags: [app]
    description: Get all existing apps.
    x-oai-middleware:
      - file: apps
        handler: query
    responses:
      200:
        description: The list of all apps.
        schema:
          type: array
          items:
            $ref: '#/definitions/App'
      default:
        $ref: '#/responses/default'

/apps/{id}:
  get:
    tags: [app]
    description: Get a single app
    x-oai-middleware:
      - file: apps
        handler: getOne
    parameters:
      - name: id
        in: path
        description: The id of the app to get.
        required: true
        type: integer
    responses:
      200:
        description: The app that matches the given id.
        schema:
          $ref: '#/definitions/App'
      default:
        $ref: '#/responses/default'
  put:
    tags: [app]
    description: Update an existing app
    x-oai-middleware:
      - file: apps
        handler: update
    parameters:
      - name: id
        in: path
        description: The id of the app to update.
        required: true
        type: integer
      - name: app
        in: body
        description: The new app configuration.
        required: true
        schema:
          $ref: '#/definitions/App'
    responses:
      200:
        description: The updated app.
        schema:
          $ref: '#/definitions/App'
      default:
        $ref: '#/responses/default'
